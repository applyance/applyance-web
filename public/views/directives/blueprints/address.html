<ng-include src="'/views/directives/blueprints/_standard-label.html'"></ng-include>

<ul class="blueprint__entries">
  <li class="blueprint__entry"
      ng-repeat="entry in blueprint.datum.detail.entries track by $index"
      ng-class="{ 'is-valid':entry._valid }">

    <ul class="blueprint__field-rows">
      <li class="blueprint__field-row">
        <ul class="blueprint__field-cols">
          <li class="blueprint__field-col">
            <input
                type="text" id="blueprint[{{ blueprint.id }}]"
                class="blueprint__input"
                value="{{ entry.street1 }}"
                ng-model="entry.street1"
                placeholder="Street">
          </li>
        </ul>
      </li>
      <li class="blueprint__field-row"
          ng-show="entry.street1.length > 0">
        <ul class="blueprint__field-cols">
          <li class="blueprint__field-col">
            <input
                type="text"
                class="blueprint__input"
                value="{{ entry.street2 }}"
                ng-model="entry.street2"
                placeholder="Street - Line 2">
          </li>
        </ul>
      </li>
      <li class="blueprint__field-row">
        <ul class="blueprint__field-cols">
          <li class="blueprint__field-col unit--1of3">
            <input
                type="text"
                class="blueprint__input"
                value="{{ entry.city }}"
                ng-model="entry.city"
                placeholder="City">
          </li>
          <li class="blueprint__field-col unit--1of3">
            <input
                type="text"
                class="blueprint__input"
                value="{{ entry.state }}"
                ng-model="entry.state"
                placeholder="State">
          </li>
          <li class="blueprint__field-col unit--1of3">
            <input
                type="text"
                class="blueprint__input"
                value="{{ entry.postal_code }}"
                ng-model="entry.postal_code"
                placeholder="Zip Code">
          </li>
        </ul>
      </li>
      <li class="blueprint__field-row">
        <ul class="blueprint__field-cols">
          <li class="blueprint__field-col">
            <div class="selector blueprint__selector">
              <select
                  class="blueprint__input"
                  ng-model="entry.country"
                  ng-options="country.code as country.name for country in countries">
                <option value="">Select country...</option>
              </select>
              <svg class="arrow">
                <use xlink:href="#select-arrow" />
              </svg>
            </div>
          </li>
        </ul>
      </li>
    </ul>

    <a href="" class="blueprint__entry__remove" tabindex="-1"
        ng-if="BF.repeatable && $index > 0"
        ng-click="BF.removeEntry(entry)">
      <svg class="icon">
        <use xlink:href="#remove-item" />
      </svg>
    </a>
  </li>
</ul>

<div class="blueprint__entry__tray"
  ng-if="BF.repeatable">
  <a href="" class="btn is-mini is-round" tabindex="-1"
    ng-click="BF.addEntry()">+ Add Entry</a>
</div>
